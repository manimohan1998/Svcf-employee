(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{mDHw:function(e,t,n){"use strict";n.r(t),n.d(t,"PaymentPageModule",(function(){return S}));var i=n("ofXK"),r=n("3Pt+"),s=n("tyNb"),a=n("TEn/"),o=n("mrSG"),c=n("AytR"),l=n("fXoL"),h=n("s5zK");function d(e,t){if(1&e&&(l.Pb(0,"p"),l.Pb(1,"span"),l.sc(2),l.Ob(),l.Ob()),2&e){const e=l.ac(2).$implicit;l.Ab(2),l.tc(null==e?null:e.NonPrizedArrear)}}function p(e,t){if(1&e&&(l.Pb(0,"p"),l.Pb(1,"span"),l.sc(2),l.Ob(),l.Ob()),2&e){const e=l.ac(2).$implicit;l.Ab(2),l.tc(null==e?null:e.PrizedArrear)}}function u(e,t){if(1&e&&(l.Pb(0,"tr"),l.Pb(1,"th"),l.sc(2,"Arrear Amount"),l.Ob(),l.Pb(3,"td"),l.Pb(4,"p"),l.sc(5,":"),l.Ob(),l.Ob(),l.Pb(6,"td"),l.rc(7,d,3,1,"p",11),l.rc(8,p,3,1,"p",11),l.Ob(),l.Ob()),2&e){const e=l.ac().$implicit;l.Ab(7),l.fc("ngIf",0!=(null==e?null:e.NonPrizedArrear)),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.PrizedArrear))}}const m=function(e){return{color:e}};function b(e,t){if(1&e){const e=l.Qb();l.Pb(0,"ion-card",17),l.Pb(1,"div",18),l.Pb(2,"div",19),l.Pb(3,"ion-checkbox",20),l.Xb("ionChange",(function(n){l.jc(e);const i=t.$implicit;return l.ac().updateCheckedOptions(i,n)})),l.Ob(),l.Ob(),l.Pb(4,"table",21),l.Pb(5,"tbody"),l.Pb(6,"tr"),l.Pb(7,"th"),l.sc(8,"Status"),l.Ob(),l.Pb(9,"td"),l.Pb(10,"p"),l.sc(11,":"),l.Ob(),l.Ob(),l.Pb(12,"td"),l.Pb(13,"span",22),l.sc(14),l.Ob(),l.Ob(),l.Ob(),l.Pb(15,"tr"),l.Pb(16,"th"),l.sc(17,"Group No"),l.Ob(),l.Pb(18,"td"),l.Pb(19,"p"),l.sc(20,":"),l.Ob(),l.Ob(),l.Pb(21,"td"),l.sc(22),l.Ob(),l.Ob(),l.Pb(23,"tr"),l.Pb(24,"th"),l.sc(25,"Agt No"),l.Ob(),l.Pb(26,"td"),l.Pb(27,"p"),l.sc(28,":"),l.Ob(),l.Ob(),l.Pb(29,"td"),l.sc(30),l.Ob(),l.Ob(),l.Pb(31,"tr"),l.Pb(32,"td"),l.Pb(33,"span",23),l.sc(34),l.Ob(),l.Ob(),l.Ob(),l.Pb(35,"tr"),l.Pb(36,"th"),l.sc(37,"Chit No"),l.Ob(),l.Pb(38,"td"),l.Pb(39,"p"),l.sc(40,":"),l.Ob(),l.Ob(),l.Pb(41,"td"),l.Pb(42,"span"),l.sc(43),l.Ob(),l.Ob(),l.Ob(),l.Pb(44,"tr"),l.Pb(45,"th"),l.sc(46,"Current inst no"),l.Ob(),l.Pb(47,"td"),l.Pb(48,"p"),l.sc(49,":"),l.Ob(),l.Ob(),l.Pb(50,"td"),l.Pb(51,"span"),l.sc(52),l.Ob(),l.Ob(),l.Ob(),l.rc(53,u,9,2,"tr",11),l.Ob(),l.Ob(),l.Ob(),l.Pb(54,"div",24),l.Pb(55,"p"),l.sc(56),l.Ob(),l.Ob(),l.Pb(57,"div",25),l.Pb(58,"p",26),l.sc(59,"Current Due \u20b9 "),l.Pb(60,"span"),l.sc(61),l.Ob(),l.Ob(),l.Pb(62,"p",26),l.sc(63,"Chit Value \u20b9 "),l.Pb(64,"span"),l.sc(65),l.Ob(),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=t.$implicit;l.Ab(13),l.fc("ngStyle",l.gc(12,m,"R"===(null==e?null:e.status)?"green":"red")),l.Ab(1),l.tc(null==e?null:e.status),l.Ab(8),l.uc(" ",null==e?null:e.groupno," "),l.Ab(8),l.uc(" ",null==e?null:e.agreementno," "),l.Ab(4),l.tc(e.BranchName),l.Ab(9),l.tc(null==e?null:e.chitgroupid),l.Ab(9),l.tc(null==e?null:e.instno),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.NonPrizedArrear)||0!=(null==e?null:e.PrizedArrear)),l.Ab(1),l.fc("ngClass","Y"===(null==e?null:e.isprized)?"green":"red"),l.Ab(2),l.tc(null==e?null:e.isprized),l.Ab(5),l.tc(null==e?null:e.CurrentDueAmount),l.Ab(4),l.tc(null==e?null:e.totalchitvalue)}}function g(e,t){1&e&&(l.Pb(0,"ion-card"),l.Lb(1,"ion-img",27),l.Ob())}let _=(()=>{class e{constructor(e,t,n,i){this.route=e,this.alertController=t,this.router=n,this.paymentservice=i,this.today=Date.now(),this.arrayvalue=[],this.pushvalue=[],this.green=!1,this.red=!1,this.checkbox=!1,this.new_check=!1,this.prized_array=[],this.nonprized_array=[],this.arrayprized=[],this.prized_chits=[]}ionViewWillEnter(){this.imageUrl=c.a.Imageurl,this.arrayvalue=[],this.newarr=[],this.pushvalue=[],this.user_details=JSON.parse(localStorage.getItem("user2")),this.paymentservice.payment_details(this.user_details.MemberID).subscribe(e=>{this.payee_details=e;for(let n=0;n<this.payee_details.length;n++){if(this.status=this.payee_details[n].status,this.arrear=this.payee_details[n].arrearamount,this.prized=this.payee_details[n].isprized,"R"==this.status||this.arrear>0){this.pushvalue.push(this.payee_details[n]);var t=[];this.newarr=this.pushvalue.filter((function(e){return-1==t.indexOf(e.groupno)&&(t.push(e.groupno),!0)})),this.length1=this.pushvalue.length}this.payee_details[n].isprized="N"==this.payee_details[n].isprized?"Non-Prized":"Prized"}})}ngOnInit(){}updateCheckedOptions(e,t){if(t.detail.checked&&this.arrayvalue.push(e),!t.detail.checked){let t=this.arrayvalue.indexOf(e);t>-1&&this.arrayvalue.splice(t,1)}}previous(){this.router.navigateByUrl("dashboard")}cash(){if(this.prized_chits=[],0==this.arrayvalue.length)return alert("Please choose atleast one chit");for(var e=0;e<this.newarr.length;e++)"Prized"==this.newarr[e].isprized&&this.prized_chits.push(this.newarr[e]);if(0!=this.prized_chits.length){if(this.arrayvalue.length<=1){if("Prized"!=this.arrayvalue[0].isprized)return alert("Must choose atleast 1 Prized Chit");{let e=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:e},skipLocationChange:!0})}}else if(2==this.arrayvalue.length){for(let e=0;e<this.arrayvalue.length;e++)"Prized"==this.arrayvalue[e].isprized&&this.arrayprized.push(this.arrayvalue[e]);if(0==this.arrayprized.length)return alert("Choose atleast 1 prized chits");{let e=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:e},skipLocationChange:!0})}}else if(this.arrayvalue.length>2)if(1==this.prized_chits.length){let e=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:e},skipLocationChange:!0})}else if(this.prized_chits.length>=2){for(let e=0;e<this.arrayvalue.length;e++)"Prized"==this.arrayvalue[e].isprized&&this.arrayprized.push(this.arrayvalue[e]);if(this.arrayprized.length<2)return alert("Choose atleast 2 prized chits");{let e=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:e},skipLocationChange:!0})}}}else{let e=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:e},skipLocationChange:!0})}}logout(){this.presentAlertConfirm()}presentAlertConfirm(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Logout",handler:()=>{localStorage.clear(),this.router.navigate(["login"])}}]});yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(s.a),l.Kb(a.a),l.Kb(s.g),l.Kb(h.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-payment"]],decls:31,vars:8,consts:[[1,"svcf_dashboard_page"],[1,"customer_details"],["size","12"],["size","8",1,"customer_name"],["size","8"],["size","3",1,"profile_img"],["src","../../../assets/images/user.jpg"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"total_chits"],["class","card_bg",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-24"],[2,"margin-left","10px"],["name","cash",1,"icon"],[1,"text"],["name","arrow-forward",3,"click"],[1,"card_bg"],[1,"chits_item_details"],[1,"mr-1"],[3,"ionChange"],[1,"table","chit_details"],[3,"ngStyle"],[1,"branch_name"],[1,"chit_status",3,"ngClass"],[1,"bottom_sec"],["size","6"],["src","assets/images/nodata.jpeg",1,"no"]],template:function(e,t){1&e&&(l.Pb(0,"ion-content",0),l.Pb(1,"section",1),l.Pb(2,"ion-row",2),l.Pb(3,"ion-col",3),l.Pb(4,"h2",4),l.sc(5),l.Ob(),l.Pb(6,"h5",4),l.sc(7),l.bc(8,"date"),l.Ob(),l.Ob(),l.Pb(9,"ion-col",5),l.Pb(10,"ion-avatar"),l.Pb(11,"span"),l.Lb(12,"img",6),l.Ob(),l.Ob(),l.Ob(),l.Pb(13,"ion-col",7),l.Pb(14,"ion-icon",8),l.Xb("click",(function(){return t.logout()})),l.Ob(),l.Ob(),l.Ob(),l.Pb(15,"p",9),l.sc(16,"No. of Chits : "),l.Pb(17,"span"),l.sc(18),l.Ob(),l.Ob(),l.Ob(),l.rc(19,b,66,14,"ion-card",10),l.rc(20,g,2,0,"ion-card",11),l.Pb(21,"section",12),l.Pb(22,"p",13),l.sc(23,"Mode of payment"),l.Ob(),l.Pb(24,"ion-list"),l.Pb(25,"ion-item"),l.Pb(26,"ion-label"),l.Lb(27,"ion-icon",14),l.Pb(28,"span",15),l.sc(29,"Cash Payment"),l.Ob(),l.Ob(),l.Pb(30,"ion-icon",16),l.Xb("click",(function(){return t.cash()})),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.Ab(5),l.tc(null==t.user_details?null:t.user_details.MemberName),l.Ab(2),l.tc(l.cc(8,5,t.today,"dd/MM/yyyy")),l.Ab(11),l.tc(null==t.user_details?null:t.user_details.chitcount),l.Ab(1),l.fc("ngForOf",t.newarr),l.Ab(1),l.fc("ngIf",0===t.length1))},directives:[a.k,a.t,a.j,a.d,a.m,i.j,i.k,a.r,a.p,a.q,a.f,a.i,a.b,i.l,i.i,a.n],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),e})();var f=n("SmVF");function P(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Current Due"),l.Ob(),l.Lb(3,"ion-input",20),l.Ob())}function O(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Current Due"),l.Ob(),l.Lb(3,"ion-input",21),l.Ob())}function y(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Prized Arrear "),l.Ob(),l.Lb(3,"ion-input",22),l.Ob())}function C(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Non Prized Arrear"),l.Ob(),l.Lb(3,"ion-input",23),l.Ob())}function M(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Interest"),l.Ob(),l.Lb(3,"ion-input",24),l.Ob())}function v(e,t){if(1&e&&(l.Pb(0,"div"),l.Pb(1,"div",14),l.Pb(2,"ion-card"),l.Pb(3,"ion-card-header"),l.Pb(4,"p"),l.sc(5,"Chit Value"),l.Pb(6,"span"),l.sc(7),l.Ob(),l.Ob(),l.Pb(8,"p",15),l.sc(9),l.Ob(),l.Ob(),l.Pb(10,"ion-card-content"),l.rc(11,P,4,0,"ion-item",16),l.rc(12,O,4,0,"ion-item",16),l.rc(13,y,4,0,"ion-item",16),l.rc(14,C,4,0,"ion-item",16),l.rc(15,M,4,0,"ion-item",16),l.Pb(16,"ion-item"),l.Pb(17,"ion-label",17),l.sc(18,"Other Amount"),l.Ob(),l.Lb(19,"ion-input",18),l.Ob(),l.Pb(20,"ion-item"),l.Pb(21,"ion-label",17),l.sc(22," Write Narrations "),l.Ob(),l.Lb(23,"ion-input",19),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e){const e=t.$implicit,n=t.index;l.Ab(1),l.fc("formGroupName",n),l.Ab(6),l.uc("\u20b9 ",null==e?null:e.totalchitvalue,""),l.Ab(2),l.tc(null==e?null:e.chitgroupid),l.Ab(2),l.fc("ngIf",0==(null==e?null:e.NonPrizedArrear)&&0==(null==e?null:e.PrizedArrear)),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.NonPrizedArrear)||0!=(null==e?null:e.PrizedArrear)),l.Ab(1),l.fc("ngIf","Prized"==(null==e?null:e.isprized)&&0!=(null==e?null:e.PrizedArrear)),l.Ab(1),l.fc("ngIf","Non-Prized"==(null==e?null:e.isprized)&&0!=(null==e?null:e.NonPrizedArrear)),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.NonPrizedArrear)||0!=(null==e?null:e.PrizedArrear))}}let A=(()=>{class e{constructor(e,t,n,i,r,s){this.route=e,this.toast=t,this.alertController=n,this.router=i,this.fb=r,this.paymentservice=s,this.today=Date.now(),this.cash_details=[],this.brid1=[],this.test=!1,this.route.queryParams.subscribe(e=>{this.router.getCurrentNavigation().extras.state&&(this.is=this.router.getCurrentNavigation().extras.state.user7,this.is_array=this.router.getCurrentNavigation().extras.state.user8)}),this.route.queryParams.subscribe(e=>{this.i_details=JSON.parse(e.state),console.log(this.i_details);for(let t=0;t<this.i_details.length;t++)this.brid=this.i_details[t].BranchID,this.brid1.push(this.brid);this.chit_value=this.i_details.Chitvalue})}ngOnInit(){this.cashForm=new r.g({formArrayName:this.fb.array([])}),this.buildForm()}buildForm(){const e=this.cashForm.get("formArrayName");Object.keys(this.i_details).forEach(t=>{e.push(this.fb.group({branchprefix:new r.e(this.i_details[t].BranchPrefix,r.u.required),branchname:new r.e(this.i_details[t].Branch,r.u.required),groupno:new r.e(this.i_details[t].groupno,r.u.required),totalchit:new r.e(this.i_details[t].totalchitvalue,r.u.required),branchid:new r.e(this.i_details[t].BranchID,r.u.required),memberid:new r.e(this.i_details[t].Mid,r.u.required),m_id:new r.e(this.i_details[t].MemberID,r.u.required),rootid:new r.e(this.i_details[t].rootid,r.u.required),headid:new r.e(this.i_details[t].headID,r.u.required),chitgroupid:new r.e(this.i_details[t].chitgroupid,r.u.required),installment:new r.e(this.i_details[t].instno,r.u.required),agreement:new r.e(this.i_details[t].agreementno,r.u.required),amountreceived:new r.e(this.i_details[t].CurrentDueAmount),prizedarrear:new r.e(this.i_details[t].PrizedArrear,r.u.required),nonprizedarrear:new r.e(this.i_details[t].NonPrizedArrear,r.u.required),interest:new r.e("",r.u.compose([r.u.pattern("[. 0-9 ]*")])),otheramount:new r.e("",r.u.compose([r.u.pattern("[. 0-9 ]*")])),narration:new r.e("")}))})}previous(){this.router.navigateByUrl("payment")}presentToast(e){return Object(o.a)(this,void 0,void 0,(function*(){this.toast.show(e,"2000","bottom").subscribe(e=>{console.log(e)})}))}submit(e){console.log(e),this.new_check=e.formArrayName;for(let t=0;t<this.new_check.length;t++)this.sum=0,this.sum=+this.new_check[t].amountreceived+ +this.new_check[t].prizedarrear+ +this.new_check[t].interest+ +this.new_check[t].otheramount+ +this.new_check[t].nonprizedarrear,console.log(this.sum),0==this.sum?this.presentToast("Please enter valid amounts to continue"):this.presentAlertConfirm(e)}logout(){this.presentAlertConfirm1()}presentAlertConfirm(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"Are you sure you want to submit?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Submit",handler:()=>{this.cash_array=e.formArrayName,this.router.navigate(["payment/cashpay"],{state:{user6:this.cash_array,user10:this.i_details}})}}]});yield t.present()}))}presentAlertConfirm1(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Logout",handler:()=>{this.router.navigate(["login"]),localStorage.clear()}}]});yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(s.a),l.Kb(f.a),l.Kb(a.a),l.Kb(s.g),l.Kb(r.d),l.Kb(h.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-payment"]],decls:21,vars:9,consts:[[1,"svcf_dashboard_page","svcf_payment_page"],[1,"customer_details"],["size","12"],["size","11",1,"customer_name"],["size","8"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"payment","card_bg","space_padding"],[1,"page_title"],["name","create-outline","slot","end"],[3,"formGroup"],[1,"payment_form",3,"formArrayName"],[4,"ngFor","ngForOf"],["type","submit","expand","block",1,"btn",3,"disabled","click"],[3,"formGroupName"],[1,"chit_no"],[4,"ngIf"],["position","stacked"],["formControlName","otheramount","type","number","value","","placeholder","Otheramount"],["formControlName","narration","type","text","value","","placeholder","Narration","required",""],["formControlName","amountreceived","type","number","value","","placeholder","Current Due","pattern","^[1-9]\\d*$"],["formControlName","amountreceived","type","number","value","","placeholder","Current Due"],["formControlName","prizedarrear","type","number","value","","placeholder","Prized Arrear"],["formControlName","nonprizedarrear","type","number","placeholder","Non Prized Arrear"],["formControlName","interest","type","number","value","","placeholder","Interest"]],template:function(e,t){1&e&&(l.Pb(0,"ion-content",0),l.Pb(1,"section",1),l.Pb(2,"ion-row",2),l.Pb(3,"ion-col",3),l.Pb(4,"h2",4),l.sc(5),l.Ob(),l.Pb(6,"h5",4),l.sc(7),l.bc(8,"date"),l.Ob(),l.Ob(),l.Pb(9,"ion-col",5),l.Pb(10,"ion-icon",6),l.Xb("click",(function(){return t.logout()})),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(11,"div",7),l.Pb(12,"div",8),l.Pb(13,"h3"),l.sc(14,"Chit Details"),l.Ob(),l.Lb(15,"ion-icon",9),l.Ob(),l.Pb(16,"form",10),l.Pb(17,"div",11),l.rc(18,v,24,8,"div",12),l.Ob(),l.Pb(19,"ion-button",13),l.Xb("click",(function(){return t.submit(t.cashForm.value)})),l.sc(20,"Submit "),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.Ab(5),l.tc(t.i_details[0].Membername),l.Ab(2),l.tc(l.cc(8,6,t.today,"dd/MM/yyyy")),l.Ab(9),l.fc("formGroup",t.cashForm),l.Ab(1),l.fc("formArrayName","formArrayName"),l.Ab(1),l.fc("ngForOf",t.i_details),l.Ab(1),l.fc("disabled",t.cashForm.invalid||1==t.test))},directives:[a.k,a.t,a.j,a.m,r.v,r.o,r.h,r.c,i.j,a.e,r.i,a.f,a.h,a.g,i.k,a.p,a.q,a.o,a.C,r.n,r.f,a.E,r.t,r.r],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),e})();n("0tRk");var I=n("wd/R"),w=n("tk/3");function x(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Arrear Amount"),l.Ob(),l.Lb(3,"ion-input",23),l.Ob())}function T(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Non Prized Arrear"),l.Ob(),l.Lb(3,"ion-input",24),l.Ob())}function z(e,t){1&e&&(l.Pb(0,"ion-item"),l.Pb(1,"ion-label",17),l.sc(2,"Interest"),l.Ob(),l.Lb(3,"ion-input",25),l.Ob())}function D(e,t){if(1&e&&(l.Pb(0,"div"),l.Pb(1,"div",15),l.Pb(2,"ion-card"),l.Pb(3,"ion-card-header"),l.Pb(4,"p"),l.sc(5,"Chit Value"),l.Pb(6,"span"),l.sc(7),l.Ob(),l.Ob(),l.Pb(8,"p",16),l.sc(9),l.Ob(),l.Ob(),l.Pb(10,"ion-card-content"),l.Pb(11,"ion-item"),l.Pb(12,"ion-label",17),l.sc(13,"Current Due"),l.Ob(),l.Lb(14,"ion-input",18),l.Ob(),l.rc(15,x,4,0,"ion-item",19),l.rc(16,T,4,0,"ion-item",19),l.rc(17,z,4,0,"ion-item",19),l.Pb(18,"ion-item"),l.Pb(19,"ion-label",17),l.sc(20,"Other Amount"),l.Ob(),l.Lb(21,"ion-input",20),l.Ob(),l.Pb(22,"ion-item"),l.Pb(23,"ion-label",17),l.sc(24," Write Narrations "),l.Ob(),l.Lb(25,"ion-input",21),l.Ob(),l.Pb(26,"p",22),l.sc(27," Total"),l.Pb(28,"span"),l.sc(29),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e){const e=t.$implicit,n=t.index;l.Ab(1),l.fc("formGroupName",n),l.Ab(6),l.uc("\u20b9 ",e.totalchit,""),l.Ab(2),l.tc(e.chitgroupid),l.Ab(6),l.fc("ngIf",0!=(null==e?null:e.prizedarrear)),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.nonprizedarrear)),l.Ab(1),l.fc("ngIf",0!=(null==e?null:e.interest)),l.Ab(12),l.uc(" \u20b9 ",e.total,"")}}let N=(()=>{class e{constructor(e,t,n,i,r,s,a){this.fb=e,this.toast=t,this.http=n,this.loadingController=i,this.router=r,this.route=s,this.paymentservice=a,this.today=Date.now(),this.new_array=[],this.cashdata=[],this.cashdat=[],this.cashdata1=[],this.cashdata2=[],this.count=1111,this.branch1=[],this.sampledata=[],this.trigger=0,this.sampledata1=[],this.num1=[],this.vnum1=[],this.ReceiptTable1=[],this.sampleinterest=[],this.sampletestcheck=[],this.isLoading=!1,this.new_total=[],this.route.queryParams.subscribe(e=>{if(this.router.getCurrentNavigation().extras.state){this.new=this.router.getCurrentNavigation().extras.state.user6,this.new10=this.router.getCurrentNavigation().extras.state.user10;for(let e=0;e<this.new10.length;e++)this.branch_new=this.new10[e].BranchID,this.head=this.new10[e].headID,this.branch1.push(this.branch_new),this.sampletest1=[{BranchID:this.new10[e].BranchID,HeadID:this.new10[e].headID}],this.sampledata.push(this.sampletest1),this.sampledata1=[].concat.apply([],this.sampledata);this.new_array=this.new}})}ngOnInit(){this.paymentservice.receiptseries("BCAPP").subscribe(e=>{this.voucher_count=e});var e=0;this.result=this.new_array.map((function(e){var t=Object.assign({},e);return t.total=+e.amountreceived+ +e.interest+ +e.otheramount+ +e.nonprizedarrear+ +e.prizedarrear,t}));for(let t=0;t<this.result.length;t++)e+=parseFloat(this.result[t].total),this.grand_total=e;this.post_id=localStorage.getItem("col_id"),this.nedate=new Date,this.day=I(this.nedate.toLocaleString()).format("DD"),this.month=I(this.nedate.toLocaleString()).format("MM"),this.year=I(this.nedate.toLocaleString()).format("YYYY"),this.submitForm=new r.g({formArrayName:this.fb.array([])}),this.buildForm1()}buildForm1(){const e=this.submitForm.get("formArrayName");Object.keys(this.result).forEach(t=>{e.push(this.fb.group({branchprefix:new r.e(this.result[t].branchprefix,r.u.required),branchname:new r.e(this.result[t].branchname,r.u.required),groupno:new r.e(this.result[t].groupno,r.u.required),totalchit:new r.e(this.result[t].totalchit,r.u.required),branchid:new r.e(this.result[t].branchid,r.u.required),memberid:new r.e(this.result[t].memberid,r.u.required),m_id:new r.e(this.result[t].m_id,r.u.required),rootid:new r.e(this.result[t].rootid,r.u.required),headid:new r.e(this.result[t].headid,r.u.required),chitgroupid:new r.e(this.result[t].chitgroupid,r.u.required),agreement:new r.e(this.result[t].agreement,r.u.required),installment:new r.e(this.result[t].installment,r.u.required),amountreceived:new r.e(Number(this.new_array[t].amountreceived)),prizedarrear:new r.e(Number(this.new_array[t].prizedarrear)),nonprizedarrear:new r.e(Number(this.new_array[t].nonprizedarrear)),interest:new r.e(Number(this.result[t].interest)),otheramount:new r.e(Number(this.result[t].otheramount)),narration:new r.e(this.result[t].narration)}))}),console.log(e)}previous(){this.router.navigateByUrl("payment/cash")}edit(){this.router.navigate(["payment/cash"],{state:{user7:!0,user8:this.new_array}})}submitcash(e){this.present(),this.sampletest=e.formArrayName,console.log(this.sampletest),this.paymentservice.cash_details(this.sampledata1).subscribe(e=>{if(console.log(e),this.receipt_res=e,null!=this.receipt_res){for(let e=0;e<this.receipt_res.length;e++)console.log(this.receipt_res[e].AlreadyusedNo),this.num=this.receipt_res[e].AlreadyusedNo+1,this.vnum=this.receipt_res[e].BranchName+""+this.num,this.num1.push(this.num),console.log(this.num1),this.vnum1.push(this.vnum),console.log(this.vnum1),this.ReceiptTable={AlreadyusedNo:this.num,BranchID:this.receipt_res[e].BranchID,HeadID:this.receipt_res[e].HeadID,BranchName:this.receipt_res[e].BranchName,From:this.receipt_res[e].From,ID:this.receipt_res[e].ID,Isfinished:this.receipt_res[e].Isfinished,To:this.receipt_res[e].To,VoucherCode:this.receipt_res[e].VoucherCode,VoucherNumber:this.vnum},console.log(this.ReceiptTable),this.ReceiptTable1.push(this.ReceiptTable),console.log(this.ReceiptTable1);this.paymentservice.receipt_update(this.ReceiptTable1).subscribe(e=>{if(console.log(e),this.res_status=e,console.log(this.res_status),0==this.res_status){for(let e of this.sampletest){console.log("object:",e);for(let t in e);}for(let e=0;e<this.sampletest.length;e++){var t=this.sampletest[e].branchprefix;this.voucher_count+=1;let n=this.padLeadingZeros(this.voucher_count,8);this.newvoucher_count=n,console.log(this.newvoucher_count,"dashb"),this.new_name=t,console.log(this.trigger,"trigg"),this.receipt_name="B-"+this.new_name+localStorage.getItem("col_id")+this.newvoucher_count,console.log(this.receipt_name,"rec"),this.cashpdata=0!=this.sampletest[e].prizedarrear?[{Amount:+this.sampletest[e].amountreceived+ +this.sampletest[e].prizedarrear,PArrear:this.sampletest[e].prizedarrear,CurrentDue:this.sampletest[e].amountreceived,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].amountreceived+ +this.sampletest[e].prizedarrear,CurrentDue:this.sampletest[e].amountreceived,PArrear:this.sampletest[e].prizedarrear,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count}]:0!=this.sampletest[e].nonprizedarrear?[{Amount:+this.sampletest[e].amountreceived+ +this.sampletest[e].nonprizedarrear,CurrentDue:this.sampletest[e].amountreceived,NPArrear:this.sampletest[e].nonprizedarrear,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].amountreceived+ +this.sampletest[e].nonprizedarrear,CurrentDue:this.sampletest[e].amountreceived,NPArrear:this.sampletest[e].nonprizedarrear,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count}]:[{Amount:this.sampletest[e].amountreceived,CurrentDue:this.sampletest[e].amountreceived,NPArrear:this.sampletest[e].nonprizedarrear,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:this.sampletest[e].amountreceived,CurrentDue:this.sampletest[e].amountreceived,NPArrear:this.sampletest[e].nonprizedarrear,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"Cash",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count=this.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count},{Amount:+this.sampletest[e].interest+ +this.sampletest[e].otheramount,Interest:this.sampletest[e].interest,OtherAmt:this.sampletest[e].otheramount,IsDeleted:0,MemberID:this.sampletest[e].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:this.day,T_Month:this.month,T_Year:this.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:this.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:this.receipt_name,ISActive:!0,BranchID:this.sampletest[e].branchid,ChitGroupId:this.sampletest[e].chitgroupid,Narration:this.sampletest[e].narration,Head_Id:this.sampletest[e].headid,Other_Trans_Type:1,RootID:this.sampletest[e].rootid,M_Id:this.sampletest[e].m_id,Type:"DefaultInterest",MoneyCollId:this.post_id,VoucherCount:this.newvoucher_count}],this.cashdata.push(this.cashpdata),this.cashdata1=[].concat.apply([],this.cashdata);for(let e=this.cashdata1.length-1;e>=0;--e)"0"==this.cashdata1[e].Amount&&this.cashdata1.splice(e,1)}this.paymentservice.post_vouchercash(this.cashdata1).subscribe(e=>{this.voucher_res=e,e?(this.dismiss(),this.second_voucher=e,this.presentToast("sucessfully updated"),localStorage.setItem("print_cash",JSON.stringify(this.voucher_res)),this.router.navigateByUrl("cashprint")):(alert("voucher error"),this.dismiss())})}else alert("error"),this.dismiss()})}})}logout(){this.router.navigateByUrl("login"),localStorage.clear()}present(){return Object(o.a)(this,void 0,void 0,(function*(){return this.isLoading=!0,yield this.loadingController.create({message:"Saving data, Please wait....."}).then(e=>{e.present().then(()=>{this.isLoading||e.dismiss().then(()=>console.log("abort presenting"))})})}))}dismiss(){return Object(o.a)(this,void 0,void 0,(function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then(()=>console.log("dismissed"))}))}padLeadingZeros(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}presentToast(e){return Object(o.a)(this,void 0,void 0,(function*(){this.toast.show(e,"2000","bottom").subscribe(e=>{console.log(e)})}))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(r.d),l.Kb(f.a),l.Kb(w.a),l.Kb(a.A),l.Kb(s.g),l.Kb(s.a),l.Kb(h.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-payment"]],decls:25,vars:9,consts:[[1,"svcf_dashboard_page","svcf_payment_page"],[1,"customer_details"],["size","12"],["size","11",1,"customer_name"],["size","8"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"payment","card_bg","space_padding"],[1,"page_title"],["name","create-outline","slot","end"],["novalidate","",1,"payment_form",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],[1,"grand_total"],["type","submit","expand","block",1,"btn",3,"click"],[3,"formGroupName"],[1,"chit_no"],["position","stacked"],["formControlName","amountreceived","type","number","value","","placeholder","Current Due","readonly",""],[4,"ngIf"],["formControlName","otheramount","type","number","value","","placeholder","otheramount","readonly",""],["formControlName","narration","type","text","value","","placeholder","narration","readonly",""],[1,"total"],["formControlName","prizedarrear","type","number","value","","placeholder","Prized Arrear","readonly",""],["formControlName","nonprizedarrear","type","number","value","","placeholder","Non Prized Arrear","readonly",""],["formControlName","interest","type","number","value","","placeholder","interest","readonly",""]],template:function(e,t){1&e&&(l.Pb(0,"ion-content",0),l.Pb(1,"section",1),l.Pb(2,"ion-row",2),l.Pb(3,"ion-col",3),l.Pb(4,"h2",4),l.sc(5),l.Ob(),l.Pb(6,"h5",4),l.sc(7),l.bc(8,"date"),l.Ob(),l.Ob(),l.Pb(9,"ion-col",5),l.Pb(10,"ion-icon",6),l.Xb("click",(function(){return t.logout()})),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(11,"div",7),l.Pb(12,"div",8),l.Pb(13,"h3"),l.sc(14,"Chit Details"),l.Ob(),l.Lb(15,"ion-icon",9),l.Ob(),l.Pb(16,"form",10),l.Pb(17,"ion-list",11),l.rc(18,D,30,7,"div",12),l.Ob(),l.Ob(),l.Pb(19,"p",13),l.sc(20,"Grand Total"),l.Pb(21,"span"),l.sc(22),l.Ob(),l.Ob(),l.Pb(23,"ion-button",14),l.Xb("click",(function(){return t.submitcash(t.submitForm.value)})),l.sc(24,"Submit "),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.Ab(5),l.tc(null==t.new10[0]?null:t.new10[0].Membername),l.Ab(2),l.tc(l.cc(8,6,t.today,"dd/MM/yyyy")),l.Ab(9),l.fc("formGroup",t.submitForm),l.Ab(1),l.fc("formArrayName","formArrayName"),l.Ab(1),l.fc("ngForOf",t.result),l.Ab(4),l.uc("\u20b9 ",t.grand_total,""))},directives:[a.k,a.t,a.j,a.m,r.v,r.o,r.h,a.r,r.c,i.j,a.e,r.i,a.f,a.h,a.g,a.p,a.q,a.o,a.C,r.n,r.f,i.k,a.E],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),e})();var k=n("hctd");const B=[{path:"",component:_},{path:"cash",component:A},{path:"cashpay",component:N}];let S=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},providers:[f.a],imports:[[i.b,r.j,k.a,a.y,r.s,s.i.forChild(B)]]}),e})()}}]);