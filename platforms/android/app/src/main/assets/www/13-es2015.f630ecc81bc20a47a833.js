(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/2RN":function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardPageModule",(function(){return y}));var o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),s=n("TEn/"),c=n("mrSG"),a=n("fXoL"),l=n("tk/3");let g=(()=>{class t{constructor(t){this.http=t}user_details(t,e){return this.http.get("membertogroupmasterMid/MId?Mid="+t+"&Token="+e)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(l.b))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{transform(e,n){return n&&e?t.filter(e,n):e}static filter(t,e){const n=e.toLowerCase();return t.filter((function(t){return function t(e,o){for(let i in e)if(null!==e[i]&&null!=e[i]){if("object"==typeof e[i]&&t(e[i],o))return!0;if(e[i].toString().toLowerCase().includes(n))return!0}return!1}(t,e)}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Jb({name:"filter",type:t,pure:!1}),t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac}),t})(),h=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)}}),t})();function u(t,e){if(1&t){const t=a.Qb();a.Pb(0,"ion-card",13),a.Pb(1,"ion-item",14),a.Xb("click",(function(){a.kc(t);const n=e.$implicit;return a.ac().goto(n)})),a.Pb(2,"ion-label",15),a.Pb(3,"h3",16),a.tc(4),a.Ob(),a.Pb(5,"h3",17),a.tc(6),a.Ob(),a.Ob(),a.Pb(7,"ion-label",18),a.tc(8),a.Ob(),a.Ob(),a.Ob()}if(2&t){const t=e.$implicit;a.Ab(4),a.uc(t.GrpMemberID),a.Ab(2),a.vc(" ",t.MemberName,""),a.Ab(2),a.vc("No. of chits (",t.chitcount,")")}}function b(t,e){1&t&&(a.Pb(0,"div",19),a.tc(1,"No Results Found"),a.Ob())}let f=(()=>{class t{constructor(t,e,n,o,i,r,s){this.platform=t,this.router=e,this.alertController=n,this.dashboardservice=o,this.route=i,this.loadingController=r,this.toastController=s,this.values=[],this.details=[],this.isLoading=!1}ionViewDidEnter(){}ngOnInit(){}ionViewWillEnter(){this.moneycoll_name=localStorage.getItem("col_name"),this.moneycoll_id=localStorage.getItem("col_id"),console.log(this.moneycoll_id);let t=localStorage.getItem("tokens");this.present(),this.dashboardservice.user_details(this.moneycoll_id,t).subscribe(t=>{this.dismiss(),this.details=t,this.filterItems=this.details},t=>{401===t.status?(this.dismiss(),this.presentToast("Session timeout, please login to continue."),this.router.navigate(["/login"])):400===t.status&&(this.dismiss(),this.presentToast("Server Error! Please try login again."),this.router.navigate(["/login"]))})}goto(t){this.user=t,localStorage.setItem("user2",JSON.stringify(this.user)),this.router.navigateByUrl("payment")}present(){return Object(c.a)(this,void 0,void 0,(function*(){return this.isLoading=!0,yield this.loadingController.create({message:"Loading, Please wait....."}).then(t=>{t.present().then(()=>{this.isLoading||t.dismiss().then(()=>console.log("abort presenting"))})})}))}dismiss(){return Object(c.a)(this,void 0,void 0,(function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then(()=>console.log("dismissed"))}))}logout(){this.presentAlertConfirm()}presentAlertConfirm(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Logout",handler:()=>{localStorage.clear(),this.router.navigate(["login"])}}]});yield t.present()}))}history(){this.router.navigate(["receipthistory"])}presentToast(t){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:2e3})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(s.D),a.Kb(r.g),a.Kb(s.a),a.Kb(g),a.Kb(r.a),a.Kb(s.B),a.Kb(s.F))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-dashboard"]],decls:17,vars:10,consts:[[1,"svcf_dashboard_page"],[1,"customer_details"],["size","12"],["size","11",1,"customer_name"],["src","assets/images/logo.png"],[1,"total_chits",3,"click"],[1,"login-name"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"search"],["placeholder","search",3,"ngModel","ngModelChange"],["class","card_bg",4,"ngFor","ngForOf"],["style","height: 250px;text-align: center;margin-top: 50%;",4,"ngIf"],[1,"card_bg"],[3,"click"],[1,"ion-text-wrap"],[1,"id"],[1,"name"],[1,"chit"],[2,"height","250px","text-align","center","margin-top","50%"]],template:function(t,e){1&t&&(a.Pb(0,"ion-content",0),a.Pb(1,"section",1),a.Pb(2,"ion-row",2),a.Pb(3,"ion-col",3),a.Lb(4,"ion-img",4),a.Pb(5,"ion-button",5),a.Xb("click",(function(){return e.history()})),a.tc(6,"History"),a.Ob(),a.Pb(7,"h3",6),a.tc(8),a.Ob(),a.Ob(),a.Pb(9,"ion-col",7),a.Pb(10,"ion-icon",8),a.Xb("click",(function(){return e.logout()})),a.Ob(),a.Ob(),a.Ob(),a.Pb(11,"div",9),a.Pb(12,"ion-searchbar",10),a.Xb("ngModelChange",(function(t){return e.terms=t})),a.Ob(),a.Ob(),a.Ob(),a.sc(13,u,9,3,"ion-card",11),a.bc(14,"filter"),a.sc(15,b,2,0,"div",12),a.bc(16,"filter"),a.Ob()),2&t&&(a.Ab(8),a.uc(e.moneycoll_name),a.Ab(4),a.fc("ngModel",e.terms),a.Ab(1),a.fc("ngForOf",a.cc(14,4,e.details,e.terms)),a.Ab(2),a.fc("ngIf",0===a.cc(16,7,e.details,e.terms).length))},directives:[s.k,s.u,s.j,s.o,s.e,s.n,s.v,s.E,i.n,i.q,o.j,o.k,s.f,s.q,s.r],pipes:[d],styles:[".chit[_ngcontent-%COMP%]{text-align:right;color:#9898a3}ion-img[_ngcontent-%COMP%]{height:80px;width:80px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.total_chits[_ngcontent-%COMP%]{float:right}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.header[_ngcontent-%COMP%]{font-size:17px;color:#fff;margin-left:6px}.header[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{font-weight:700}.id[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{color:#323148}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:first-child{background:linear-gradient(90deg,#222428 0,#354466)!important}.login-name[_ngcontent-%COMP%]{font-size:16px;color:#fff;text-transform:capitalize;font-weight:400;margin-bottom:0}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}"]}),t})();const m=[{path:"",component:f}];let p=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(m)],r.i]}),t})();const O=[{path:"",component:f}];let y=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[o.b,i.j,s.z,p,h,r.i.forChild(O)]]}),t})()}}]);