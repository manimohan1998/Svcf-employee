(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{F4UR:function(t,e,o){"use strict";o.r(e),o.d(e,"LoginPageModule",(function(){return p}));var s=o("ofXK"),n=o("3Pt+"),i=o("tyNb"),r=o("TEn/"),a=o("mrSG"),c=o("fXoL"),l=o("SmVF"),u=o("AytR"),h=o("tk/3");let d=(()=>{class t{constructor(t){this.http=t}user_authentication(t,e){return this.http.get(u.a.Baseurl+"moneycollectorlogin/username?username="+t+"&Password="+e)}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(h.b))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const b=[{path:"",component:(()=>{class t{constructor(t,e,o,s,n,i){this.platform=t,this.fb=e,this.loadingController=o,this.router=s,this.toast=n,this.loginservice=i,this.submitted=!1,this.isLoading=!1,this.passwordType="password",this.passwordIcon="eye-off"}ngOnInit(){this.loginForm=this.fb.group({username:new n.e("",n.t.compose([n.t.required])),password:new n.e("",n.t.compose([n.t.required]))})}login_values(t){this.present(),this.credentials=t,this.username=this.credentials.username,this.password=this.credentials.password,""==this.username||null==this.username||""==this.password||null==this.password?this.presentToast("Please Enter Valid Credentials"):this.loginservice.user_authentication(this.username,this.password).subscribe(t=>{if(0==t.length)this.presentToast("Please enter valid credentials"),this.dismiss();else{this.dismiss(),this.user_details=t,console.log(t),localStorage.setItem("tokens",this.user_details[0].JWTtoken),localStorage.setItem("col_id",this.user_details[0].moneycollid),localStorage.setItem("col_name",this.user_details[0].moneycollname),this.coll_id=this.user_details[0].moneycollid,this.coll_name=this.user_details[0].moneycollname;let e={state:{user1:this.coll_name}};this.presentToast("You have Logged in successfully"),this.router.navigate(["dashboard"],e)}},t=>{this.dismiss(),this.presentToast("Something went wrong")})}presentToast(t){return Object(a.a)(this,void 0,void 0,(function*(){this.toast.show(t,"2000","bottom").subscribe(t=>{console.log(t)})}))}present(){return Object(a.a)(this,void 0,void 0,(function*(){return this.isLoading=!0,yield this.loadingController.create({message:"Logging in,Please wait....."}).then(t=>{t.present().then(()=>{console.log("presented"),this.isLoading||t.dismiss().then(()=>console.log("abort presenting"))})})}))}dismiss(){return Object(a.a)(this,void 0,void 0,(function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then(()=>console.log("dismissed"))}))}hideShowPassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="eye-off"===this.passwordIcon?"eye":"eye-off"}CheckSpace(t){if(32==t.which)return t.preventDefault(),!1}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(r.D),c.Kb(n.d),c.Kb(r.B),c.Kb(i.g),c.Kb(l.a),c.Kb(d))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-login"]],decls:25,vars:4,consts:[["fullscreen","",1,"svcf_page"],["id","svcf_login",1,"logo_sec"],["src","../../../assets/images/logo.png",1,"logo"],[1,"card_bg"],["fullscreen",""],["autocomplete","off",3,"formGroup","ngSubmit"],["position","stacked"],["formControlName","username","type","text",3,"keypress"],["name","person-outline","slot","end"],["formControlName","password",3,"type","keypress"],["slot","end",1,"eye_icon",3,"click"],["slot","end",1,"passwordIcon",3,"name","click"],["expand","block","type","submit",1,"btn",3,"disabled"]],template:function(t,e){1&t&&(c.Pb(0,"ion-app"),c.Pb(1,"ion-content",0),c.Pb(2,"section",1),c.Lb(3,"img",2),c.Pb(4,"ion-text"),c.Pb(5,"h4"),c.tc(6,"SVCF"),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"ion-card",3),c.Pb(8,"ion-card-content",4),c.Pb(9,"form",5),c.Xb("ngSubmit",(function(){return e.login_values(e.loginForm.value)})),c.Pb(10,"ion-list"),c.Pb(11,"ion-item"),c.Pb(12,"ion-label",6),c.tc(13,"Username"),c.Ob(),c.Pb(14,"ion-input",7),c.Xb("keypress",(function(t){return e.CheckSpace(t)})),c.Ob(),c.Lb(15,"ion-icon",8),c.Ob(),c.Pb(16,"ion-item"),c.Pb(17,"ion-label",6),c.tc(18,"Password"),c.Ob(),c.Pb(19,"ion-input",9),c.Xb("keypress",(function(t){return e.CheckSpace(t)})),c.Ob(),c.Pb(20,"div",10),c.Xb("click",(function(){return e.show=!e.show})),c.Pb(21,"ion-icon",11),c.Xb("click",(function(){return e.hideShowPassword()})),c.Ob(),c.Ob(),c.Ob(),c.Pb(22,"section"),c.Pb(23,"ion-button",12),c.tc(24," Sign in"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&t&&(c.Ab(9),c.fc("formGroup",e.loginForm),c.Ab(10),c.fc("type",e.show?"text":"password"),c.Ab(2),c.fc("name",e.passwordIcon),c.Ab(2),c.fc("disabled",!e.loginForm.valid))},directives:[r.c,r.k,r.w,r.f,r.g,n.u,n.o,n.h,r.s,r.q,r.r,r.p,r.E,n.n,n.f,r.n,r.e],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[s.b,n.j,r.z,n.r,i.i.forChild(b)]]}),t})()},SmVF:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var s=o("mrSG"),n=o("C6fG"),i=o("fXoL"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(s.b)(e,t),e.prototype.show=function(t,e,o){return Object(n.cordova)(this,"show",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.hide=function(){return Object(n.cordova)(this,"hide",{},arguments)},e.prototype.showWithOptions=function(t){return Object(n.cordova)(this,"showWithOptions",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showShortTop=function(t){return Object(n.cordova)(this,"showShortTop",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showShortCenter=function(t){return Object(n.cordova)(this,"showShortCenter",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showShortBottom=function(t){return Object(n.cordova)(this,"showShortBottom",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showLongTop=function(t){return Object(n.cordova)(this,"showLongTop",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showLongCenter=function(t){return Object(n.cordova)(this,"showLongCenter",{observable:!0,clearFunction:"hide"},arguments)},e.prototype.showLongBottom=function(t){return Object(n.cordova)(this,"showLongBottom",{observable:!0,clearFunction:"hide"},arguments)},e.pluginName="Toast",e.plugin="cordova-plugin-x-toast",e.pluginRef="plugins.toast",e.repo="https://github.com/EddyVerbruggen/Toast-PhoneGap-Plugin",e.platforms=["Android","BlackBerry 10","iOS","Windows","Windows Phone 8"],e.\u0275fac=function(t){return o(t||e)},e.\u0275prov=i.Gb({token:e,factory:function(t){return e.\u0275fac(t)}});var o=i.Rb(e);return e}(n.IonicNativePlugin)}}]);