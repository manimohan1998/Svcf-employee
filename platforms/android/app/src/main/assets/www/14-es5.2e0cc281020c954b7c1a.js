!function(){function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{mDHw:function(t,r,o){"use strict";o.r(r),o.d(r,"PaymentPageModule",(function(){return F}));var i=o("ofXK"),s=o("3Pt+"),c=o("tyNb"),l=o("TEn/"),u=o("mrSG"),p=o("AytR"),d=o("fXoL"),m=o("s5zK");function h(e,t){if(1&e&&(d.Pb(0,"p"),d.Pb(1,"span"),d.sc(2),d.Ob(),d.Ob()),2&e){var n=d.ac(2).$implicit;d.Ab(2),d.tc(null==n?null:n.NonPrizedArrear)}}function b(e,t){if(1&e&&(d.Pb(0,"p"),d.Pb(1,"span"),d.sc(2),d.Ob(),d.Ob()),2&e){var n=d.ac(2).$implicit;d.Ab(2),d.tc(null==n?null:n.PrizedArrear)}}function g(e,t){if(1&e&&(d.Pb(0,"tr"),d.Pb(1,"th"),d.sc(2,"Arrear Amount"),d.Ob(),d.Pb(3,"td"),d.Pb(4,"p"),d.sc(5,":"),d.Ob(),d.Ob(),d.Pb(6,"td"),d.rc(7,h,3,1,"p",11),d.rc(8,b,3,1,"p",11),d.Ob(),d.Ob()),2&e){var n=d.ac().$implicit;d.Ab(7),d.fc("ngIf",0!=(null==n?null:n.NonPrizedArrear)),d.Ab(1),d.fc("ngIf",0!=(null==n?null:n.PrizedArrear))}}var f=function(e){return{color:e}};function _(e,t){if(1&e){var n=d.Qb();d.Pb(0,"ion-card",17),d.Pb(1,"div",18),d.Pb(2,"div",19),d.Pb(3,"ion-checkbox",20),d.Xb("ionChange",(function(e){d.jc(n);var r=t.$implicit;return d.ac().updateCheckedOptions(r,e)})),d.Ob(),d.Ob(),d.Pb(4,"table",21),d.Pb(5,"tbody"),d.Pb(6,"tr"),d.Pb(7,"th"),d.sc(8,"Status"),d.Ob(),d.Pb(9,"td"),d.Pb(10,"p"),d.sc(11,":"),d.Ob(),d.Ob(),d.Pb(12,"td"),d.Pb(13,"span",22),d.sc(14),d.Ob(),d.Ob(),d.Ob(),d.Pb(15,"tr"),d.Pb(16,"th"),d.sc(17,"Group No"),d.Ob(),d.Pb(18,"td"),d.Pb(19,"p"),d.sc(20,":"),d.Ob(),d.Ob(),d.Pb(21,"td"),d.sc(22),d.Ob(),d.Ob(),d.Pb(23,"tr"),d.Pb(24,"th"),d.sc(25,"Agt No"),d.Ob(),d.Pb(26,"td"),d.Pb(27,"p"),d.sc(28,":"),d.Ob(),d.Ob(),d.Pb(29,"td"),d.sc(30),d.Ob(),d.Ob(),d.Pb(31,"tr"),d.Pb(32,"td"),d.Pb(33,"span",23),d.sc(34),d.Ob(),d.Ob(),d.Ob(),d.Pb(35,"tr"),d.Pb(36,"th"),d.sc(37,"Chit No"),d.Ob(),d.Pb(38,"td"),d.Pb(39,"p"),d.sc(40,":"),d.Ob(),d.Ob(),d.Pb(41,"td"),d.Pb(42,"span"),d.sc(43),d.Ob(),d.Ob(),d.Ob(),d.Pb(44,"tr"),d.Pb(45,"th"),d.sc(46,"Current inst no"),d.Ob(),d.Pb(47,"td"),d.Pb(48,"p"),d.sc(49,":"),d.Ob(),d.Ob(),d.Pb(50,"td"),d.Pb(51,"span"),d.sc(52),d.Ob(),d.Ob(),d.Ob(),d.rc(53,g,9,2,"tr",11),d.Ob(),d.Ob(),d.Ob(),d.Pb(54,"div",24),d.Pb(55,"p"),d.sc(56),d.Ob(),d.Ob(),d.Pb(57,"div",25),d.Pb(58,"p",26),d.sc(59,"Current Due \u20b9 "),d.Pb(60,"span"),d.sc(61),d.Ob(),d.Ob(),d.Pb(62,"p",26),d.sc(63,"Chit Value \u20b9 "),d.Pb(64,"span"),d.sc(65),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&e){var r=t.$implicit;d.Ab(13),d.fc("ngStyle",d.gc(12,f,"R"===(null==r?null:r.status)?"green":"red")),d.Ab(1),d.tc(null==r?null:r.status),d.Ab(8),d.uc(" ",null==r?null:r.groupno," "),d.Ab(8),d.uc(" ",null==r?null:r.agreementno," "),d.Ab(4),d.tc(r.BranchName),d.Ab(9),d.tc(null==r?null:r.chitgroupid),d.Ab(9),d.tc(null==r?null:r.instno),d.Ab(1),d.fc("ngIf",0!=(null==r?null:r.NonPrizedArrear)||0!=(null==r?null:r.PrizedArrear)),d.Ab(1),d.fc("ngClass","Y"===(null==r?null:r.isprized)?"green":"red"),d.Ab(2),d.tc(null==r?null:r.isprized),d.Ab(5),d.tc(null==r?null:r.CurrentDueAmount),d.Ab(4),d.tc(null==r?null:r.totalchitvalue)}}function y(e,t){1&e&&(d.Pb(0,"ion-card"),d.Lb(1,"ion-img",27),d.Ob())}var P,O=((P=function(){function e(t,r,a,o){n(this,e),this.route=t,this.alertController=r,this.router=a,this.paymentservice=o,this.today=Date.now(),this.arrayvalue=[],this.pushvalue=[],this.green=!1,this.red=!1,this.checkbox=!1,this.new_check=!1,this.prized_array=[],this.nonprized_array=[],this.arrayprized=[],this.prized_chits=[]}return a(e,[{key:"ionViewWillEnter",value:function(){var e=this;this.imageUrl=p.a.Imageurl,this.arrayvalue=[],this.newarr=[],this.pushvalue=[],this.user_details=JSON.parse(localStorage.getItem("user2")),this.paymentservice.payment_details(this.user_details.MemberID).subscribe((function(t){e.payee_details=t;for(var n=0;n<e.payee_details.length;n++){if(e.status=e.payee_details[n].status,e.arrear=e.payee_details[n].arrearamount,e.prized=e.payee_details[n].isprized,"R"==e.status||e.arrear>0){e.pushvalue.push(e.payee_details[n]);var r=[];e.newarr=e.pushvalue.filter((function(e){return-1==r.indexOf(e.groupno)&&(r.push(e.groupno),!0)})),e.length1=e.pushvalue.length}e.payee_details[n].isprized="N"==e.payee_details[n].isprized?"Non-Prized":"Prized"}}))}},{key:"ngOnInit",value:function(){}},{key:"updateCheckedOptions",value:function(e,t){if(t.detail.checked&&this.arrayvalue.push(e),!t.detail.checked){var n=this.arrayvalue.indexOf(e);n>-1&&this.arrayvalue.splice(n,1)}}},{key:"previous",value:function(){this.router.navigateByUrl("dashboard")}},{key:"cash",value:function(){if(this.prized_chits=[],0==this.arrayvalue.length)return alert("Please choose atleast one chit");for(var e=0;e<this.newarr.length;e++)"Prized"==this.newarr[e].isprized&&this.prized_chits.push(this.newarr[e]);if(0!=this.prized_chits.length){if(this.arrayvalue.length<=1){if("Prized"!=this.arrayvalue[0].isprized)return alert("Must choose atleast 1 Prized Chit");var t=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:t},skipLocationChange:!0})}else if(2==this.arrayvalue.length){for(var n=0;n<this.arrayvalue.length;n++)"Prized"==this.arrayvalue[n].isprized&&this.arrayprized.push(this.arrayvalue[n]);if(0==this.arrayprized.length)return alert("Choose atleast 1 prized chits");var r=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:r},skipLocationChange:!0})}else if(this.arrayvalue.length>2)if(1==this.prized_chits.length){var a=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:a},skipLocationChange:!0})}else if(this.prized_chits.length>=2){for(var o=0;o<this.arrayvalue.length;o++)"Prized"==this.arrayvalue[o].isprized&&this.arrayprized.push(this.arrayvalue[o]);if(this.arrayprized.length<2)return alert("Choose atleast 2 prized chits");var i=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:i},skipLocationChange:!0})}}else{var s=JSON.stringify(this.arrayvalue);this.router.navigate(["payment/cash"],{queryParams:{state:s},skipLocationChange:!0})}}},{key:"logout",value:function(){this.presentAlertConfirm()}},{key:"presentAlertConfirm",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Logout",handler:function(){localStorage.clear(),n.router.navigate(["login"])}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||P)(d.Kb(c.a),d.Kb(l.a),d.Kb(c.g),d.Kb(m.a))},P.\u0275cmp=d.Eb({type:P,selectors:[["app-payment"]],decls:31,vars:8,consts:[[1,"svcf_dashboard_page"],[1,"customer_details"],["size","12"],["size","8",1,"customer_name"],["size","8"],["size","3",1,"profile_img"],["src","../../../assets/images/user.jpg"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"total_chits"],["class","card_bg",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-24"],[2,"margin-left","10px"],["name","cash",1,"icon"],[1,"text"],["name","arrow-forward",3,"click"],[1,"card_bg"],[1,"chits_item_details"],[1,"mr-1"],[3,"ionChange"],[1,"table","chit_details"],[3,"ngStyle"],[1,"branch_name"],[1,"chit_status",3,"ngClass"],[1,"bottom_sec"],["size","6"],["src","assets/images/nodata.jpeg",1,"no"]],template:function(e,t){1&e&&(d.Pb(0,"ion-content",0),d.Pb(1,"section",1),d.Pb(2,"ion-row",2),d.Pb(3,"ion-col",3),d.Pb(4,"h2",4),d.sc(5),d.Ob(),d.Pb(6,"h5",4),d.sc(7),d.bc(8,"date"),d.Ob(),d.Ob(),d.Pb(9,"ion-col",5),d.Pb(10,"ion-avatar"),d.Pb(11,"span"),d.Lb(12,"img",6),d.Ob(),d.Ob(),d.Ob(),d.Pb(13,"ion-col",7),d.Pb(14,"ion-icon",8),d.Xb("click",(function(){return t.logout()})),d.Ob(),d.Ob(),d.Ob(),d.Pb(15,"p",9),d.sc(16,"No. of Chits : "),d.Pb(17,"span"),d.sc(18),d.Ob(),d.Ob(),d.Ob(),d.rc(19,_,66,14,"ion-card",10),d.rc(20,y,2,0,"ion-card",11),d.Pb(21,"section",12),d.Pb(22,"p",13),d.sc(23,"Mode of payment"),d.Ob(),d.Pb(24,"ion-list"),d.Pb(25,"ion-item"),d.Pb(26,"ion-label"),d.Lb(27,"ion-icon",14),d.Pb(28,"span",15),d.sc(29,"Cash Payment"),d.Ob(),d.Ob(),d.Pb(30,"ion-icon",16),d.Xb("click",(function(){return t.cash()})),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.Ab(5),d.tc(null==t.user_details?null:t.user_details.MemberName),d.Ab(2),d.tc(d.cc(8,5,t.today,"dd/MM/yyyy")),d.Ab(11),d.tc(null==t.user_details?null:t.user_details.chitcount),d.Ab(1),d.fc("ngForOf",t.newarr),d.Ab(1),d.fc("ngIf",0===t.length1))},directives:[l.k,l.t,l.j,l.d,l.m,i.j,i.k,l.r,l.p,l.q,l.f,l.i,l.b,i.l,i.i,l.n],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),P),C=o("SmVF");function v(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Current Due"),d.Ob(),d.Lb(3,"ion-input",20),d.Ob())}function M(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Current Due"),d.Ob(),d.Lb(3,"ion-input",21),d.Ob())}function w(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Prized Arrear "),d.Ob(),d.Lb(3,"ion-input",22),d.Ob())}function x(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Non Prized Arrear"),d.Ob(),d.Lb(3,"ion-input",23),d.Ob())}function A(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Interest"),d.Ob(),d.Lb(3,"ion-input",24),d.Ob())}function I(e,t){if(1&e&&(d.Pb(0,"div"),d.Pb(1,"div",14),d.Pb(2,"ion-card"),d.Pb(3,"ion-card-header"),d.Pb(4,"p"),d.sc(5,"Chit Value"),d.Pb(6,"span"),d.sc(7),d.Ob(),d.Ob(),d.Pb(8,"p",15),d.sc(9),d.Ob(),d.Ob(),d.Pb(10,"ion-card-content"),d.rc(11,v,4,0,"ion-item",16),d.rc(12,M,4,0,"ion-item",16),d.rc(13,w,4,0,"ion-item",16),d.rc(14,x,4,0,"ion-item",16),d.rc(15,A,4,0,"ion-item",16),d.Pb(16,"ion-item"),d.Pb(17,"ion-label",17),d.sc(18,"Other Amount"),d.Ob(),d.Lb(19,"ion-input",18),d.Ob(),d.Pb(20,"ion-item"),d.Pb(21,"ion-label",17),d.sc(22," Write Narrations "),d.Ob(),d.Lb(23,"ion-input",19),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e){var n=t.$implicit,r=t.index;d.Ab(1),d.fc("formGroupName",r),d.Ab(6),d.uc("\u20b9 ",null==n?null:n.totalchitvalue,""),d.Ab(2),d.tc(null==n?null:n.chitgroupid),d.Ab(2),d.fc("ngIf",0==(null==n?null:n.NonPrizedArrear)&&0==(null==n?null:n.PrizedArrear)),d.Ab(1),d.fc("ngIf",0!=(null==n?null:n.NonPrizedArrear)||0!=(null==n?null:n.PrizedArrear)),d.Ab(1),d.fc("ngIf","Prized"==(null==n?null:n.isprized)&&0!=(null==n?null:n.PrizedArrear)),d.Ab(1),d.fc("ngIf","Non-Prized"==(null==n?null:n.isprized)&&0!=(null==n?null:n.NonPrizedArrear)),d.Ab(1),d.fc("ngIf",0!=(null==n?null:n.NonPrizedArrear)||0!=(null==n?null:n.PrizedArrear))}}var T,z=((T=function(){function e(t,r,a,o,i,s){var c=this;n(this,e),this.route=t,this.toast=r,this.alertController=a,this.router=o,this.fb=i,this.paymentservice=s,this.today=Date.now(),this.cash_details=[],this.brid1=[],this.test=!1,this.route.queryParams.subscribe((function(e){c.router.getCurrentNavigation().extras.state&&(c.is=c.router.getCurrentNavigation().extras.state.user7,c.is_array=c.router.getCurrentNavigation().extras.state.user8)})),this.route.queryParams.subscribe((function(e){c.i_details=JSON.parse(e.state),console.log(c.i_details);for(var t=0;t<c.i_details.length;t++)c.brid=c.i_details[t].BranchID,c.brid1.push(c.brid);c.chit_value=c.i_details.Chitvalue}))}return a(e,[{key:"ngOnInit",value:function(){this.cashForm=new s.g({formArrayName:this.fb.array([])}),this.buildForm()}},{key:"buildForm",value:function(){var e=this,t=this.cashForm.get("formArrayName");Object.keys(this.i_details).forEach((function(n){t.push(e.fb.group({branchprefix:new s.e(e.i_details[n].BranchPrefix,s.u.required),branchname:new s.e(e.i_details[n].Branch,s.u.required),groupno:new s.e(e.i_details[n].groupno,s.u.required),totalchit:new s.e(e.i_details[n].totalchitvalue,s.u.required),branchid:new s.e(e.i_details[n].BranchID,s.u.required),memberid:new s.e(e.i_details[n].Mid,s.u.required),m_id:new s.e(e.i_details[n].MemberID,s.u.required),rootid:new s.e(e.i_details[n].rootid,s.u.required),headid:new s.e(e.i_details[n].headID,s.u.required),chitgroupid:new s.e(e.i_details[n].chitgroupid,s.u.required),installment:new s.e(e.i_details[n].instno,s.u.required),agreement:new s.e(e.i_details[n].agreementno,s.u.required),amountreceived:new s.e(e.i_details[n].CurrentDueAmount),prizedarrear:new s.e(e.i_details[n].PrizedArrear,s.u.required),nonprizedarrear:new s.e(e.i_details[n].NonPrizedArrear,s.u.required),interest:new s.e("",s.u.compose([s.u.pattern("[. 0-9 ]*")])),otheramount:new s.e("",s.u.compose([s.u.pattern("[. 0-9 ]*")])),narration:new s.e("")}))}))}},{key:"previous",value:function(){this.router.navigateByUrl("payment")}},{key:"presentToast",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toast.show(e,"2000","bottom").subscribe((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"submit",value:function(e){console.log(e),this.new_check=e.formArrayName;for(var t=0;t<this.new_check.length;t++)this.sum=0,this.sum=+this.new_check[t].amountreceived+ +this.new_check[t].prizedarrear+ +this.new_check[t].interest+ +this.new_check[t].otheramount+ +this.new_check[t].nonprizedarrear,console.log(this.sum),0==this.sum?this.presentToast("Please enter valid amounts to continue"):this.presentAlertConfirm(e)}},{key:"logout",value:function(){this.presentAlertConfirm1()}},{key:"presentAlertConfirm",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:"Are you sure you want to submit?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Submit",handler:function(){r.cash_array=e.formArrayName,r.router.navigate(["payment/cashpay"],{state:{user6:r.cash_array,user10:r.i_details}})}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentAlertConfirm1",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Logout",handler:function(){n.router.navigate(["login"]),localStorage.clear()}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||T)(d.Kb(c.a),d.Kb(C.a),d.Kb(l.a),d.Kb(c.g),d.Kb(s.d),d.Kb(m.a))},T.\u0275cmp=d.Eb({type:T,selectors:[["app-payment"]],decls:21,vars:9,consts:[[1,"svcf_dashboard_page","svcf_payment_page"],[1,"customer_details"],["size","12"],["size","11",1,"customer_name"],["size","8"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"payment","card_bg","space_padding"],[1,"page_title"],["name","create-outline","slot","end"],[3,"formGroup"],[1,"payment_form",3,"formArrayName"],[4,"ngFor","ngForOf"],["type","submit","expand","block",1,"btn",3,"disabled","click"],[3,"formGroupName"],[1,"chit_no"],[4,"ngIf"],["position","stacked"],["formControlName","otheramount","type","number","value","","placeholder","Otheramount"],["formControlName","narration","type","text","value","","placeholder","Narration","required",""],["formControlName","amountreceived","type","number","value","","placeholder","Current Due","pattern","^[1-9]\\d*$"],["formControlName","amountreceived","type","number","value","","placeholder","Current Due"],["formControlName","prizedarrear","type","number","value","","placeholder","Prized Arrear"],["formControlName","nonprizedarrear","type","number","placeholder","Non Prized Arrear"],["formControlName","interest","type","number","value","","placeholder","Interest"]],template:function(e,t){1&e&&(d.Pb(0,"ion-content",0),d.Pb(1,"section",1),d.Pb(2,"ion-row",2),d.Pb(3,"ion-col",3),d.Pb(4,"h2",4),d.sc(5),d.Ob(),d.Pb(6,"h5",4),d.sc(7),d.bc(8,"date"),d.Ob(),d.Ob(),d.Pb(9,"ion-col",5),d.Pb(10,"ion-icon",6),d.Xb("click",(function(){return t.logout()})),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(11,"div",7),d.Pb(12,"div",8),d.Pb(13,"h3"),d.sc(14,"Chit Details"),d.Ob(),d.Lb(15,"ion-icon",9),d.Ob(),d.Pb(16,"form",10),d.Pb(17,"div",11),d.rc(18,I,24,8,"div",12),d.Ob(),d.Pb(19,"ion-button",13),d.Xb("click",(function(){return t.submit(t.cashForm.value)})),d.sc(20,"Submit "),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.Ab(5),d.tc(t.i_details[0].Membername),d.Ab(2),d.tc(d.cc(8,6,t.today,"dd/MM/yyyy")),d.Ab(9),d.fc("formGroup",t.cashForm),d.Ab(1),d.fc("formArrayName","formArrayName"),d.Ab(1),d.fc("ngForOf",t.i_details),d.Ab(1),d.fc("disabled",t.cashForm.invalid||1==t.test))},directives:[l.k,l.t,l.j,l.m,s.v,s.o,s.h,s.c,i.j,l.e,s.i,l.f,l.h,l.g,i.k,l.p,l.q,l.o,l.C,s.n,s.f,l.E,s.t,s.r],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),T);o("0tRk");var k=o("wd/R"),D=o("tk/3");function N(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Arrear Amount"),d.Ob(),d.Lb(3,"ion-input",23),d.Ob())}function R(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Non Prized Arrear"),d.Ob(),d.Lb(3,"ion-input",24),d.Ob())}function S(e,t){1&e&&(d.Pb(0,"ion-item"),d.Pb(1,"ion-label",17),d.sc(2,"Interest"),d.Ob(),d.Lb(3,"ion-input",25),d.Ob())}function B(e,t){if(1&e&&(d.Pb(0,"div"),d.Pb(1,"div",15),d.Pb(2,"ion-card"),d.Pb(3,"ion-card-header"),d.Pb(4,"p"),d.sc(5,"Chit Value"),d.Pb(6,"span"),d.sc(7),d.Ob(),d.Ob(),d.Pb(8,"p",16),d.sc(9),d.Ob(),d.Ob(),d.Pb(10,"ion-card-content"),d.Pb(11,"ion-item"),d.Pb(12,"ion-label",17),d.sc(13,"Current Due"),d.Ob(),d.Lb(14,"ion-input",18),d.Ob(),d.rc(15,N,4,0,"ion-item",19),d.rc(16,R,4,0,"ion-item",19),d.rc(17,S,4,0,"ion-item",19),d.Pb(18,"ion-item"),d.Pb(19,"ion-label",17),d.sc(20,"Other Amount"),d.Ob(),d.Lb(21,"ion-input",20),d.Ob(),d.Pb(22,"ion-item"),d.Pb(23,"ion-label",17),d.sc(24," Write Narrations "),d.Ob(),d.Lb(25,"ion-input",21),d.Ob(),d.Pb(26,"p",22),d.sc(27," Total"),d.Pb(28,"span"),d.sc(29),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e){var n=t.$implicit,r=t.index;d.Ab(1),d.fc("formGroupName",r),d.Ab(6),d.uc("\u20b9 ",n.totalchit,""),d.Ab(2),d.tc(n.chitgroupid),d.Ab(6),d.fc("ngIf",0!=(null==n?null:n.prizedarrear)),d.Ab(1),d.fc("ngIf",0!=(null==n?null:n.nonprizedarrear)),d.Ab(1),d.fc("ngIf",0!=(null==n?null:n.interest)),d.Ab(12),d.uc(" \u20b9 ",n.total,"")}}var V,j,q=((V=function(){function t(e,r,a,o,i,s,c){var l=this;n(this,t),this.fb=e,this.toast=r,this.http=a,this.loadingController=o,this.router=i,this.route=s,this.paymentservice=c,this.today=Date.now(),this.new_array=[],this.cashdata=[],this.cashdat=[],this.cashdata1=[],this.cashdata2=[],this.count=1111,this.branch1=[],this.sampledata=[],this.trigger=0,this.sampledata1=[],this.num1=[],this.vnum1=[],this.ReceiptTable1=[],this.sampleinterest=[],this.sampletestcheck=[],this.isLoading=!1,this.new_total=[],this.route.queryParams.subscribe((function(e){if(l.router.getCurrentNavigation().extras.state){l.new=l.router.getCurrentNavigation().extras.state.user6,l.new10=l.router.getCurrentNavigation().extras.state.user10;for(var t=0;t<l.new10.length;t++)l.branch_new=l.new10[t].BranchID,l.head=l.new10[t].headID,l.branch1.push(l.branch_new),l.sampletest1=[{BranchID:l.new10[t].BranchID,HeadID:l.new10[t].headID}],l.sampledata.push(l.sampletest1),l.sampledata1=[].concat.apply([],l.sampledata);l.new_array=l.new}}))}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.paymentservice.receiptseries("BCAPP").subscribe((function(t){e.voucher_count=t}));var t=0;this.result=this.new_array.map((function(e){var t=Object.assign({},e);return t.total=+e.amountreceived+ +e.interest+ +e.otheramount+ +e.nonprizedarrear+ +e.prizedarrear,t}));for(var n=0;n<this.result.length;n++)t+=parseFloat(this.result[n].total),this.grand_total=t;this.post_id=localStorage.getItem("col_id"),this.nedate=new Date,this.day=k(this.nedate.toLocaleString()).format("DD"),this.month=k(this.nedate.toLocaleString()).format("MM"),this.year=k(this.nedate.toLocaleString()).format("YYYY"),this.submitForm=new s.g({formArrayName:this.fb.array([])}),this.buildForm1()}},{key:"buildForm1",value:function(){var e=this,t=this.submitForm.get("formArrayName");Object.keys(this.result).forEach((function(n){t.push(e.fb.group({branchprefix:new s.e(e.result[n].branchprefix,s.u.required),branchname:new s.e(e.result[n].branchname,s.u.required),groupno:new s.e(e.result[n].groupno,s.u.required),totalchit:new s.e(e.result[n].totalchit,s.u.required),branchid:new s.e(e.result[n].branchid,s.u.required),memberid:new s.e(e.result[n].memberid,s.u.required),m_id:new s.e(e.result[n].m_id,s.u.required),rootid:new s.e(e.result[n].rootid,s.u.required),headid:new s.e(e.result[n].headid,s.u.required),chitgroupid:new s.e(e.result[n].chitgroupid,s.u.required),agreement:new s.e(e.result[n].agreement,s.u.required),installment:new s.e(e.result[n].installment,s.u.required),amountreceived:new s.e(Number(e.new_array[n].amountreceived)),prizedarrear:new s.e(Number(e.new_array[n].prizedarrear)),nonprizedarrear:new s.e(Number(e.new_array[n].nonprizedarrear)),interest:new s.e(Number(e.result[n].interest)),otheramount:new s.e(Number(e.result[n].otheramount)),narration:new s.e(e.result[n].narration)}))})),console.log(t)}},{key:"previous",value:function(){this.router.navigateByUrl("payment/cash")}},{key:"edit",value:function(){this.router.navigate(["payment/cash"],{state:{user7:!0,user8:this.new_array}})}},{key:"submitcash",value:function(t){var n=this;this.present(),this.sampletest=t.formArrayName,console.log(this.sampletest),this.paymentservice.cash_details(this.sampledata1).subscribe((function(t){if(console.log(t),n.receipt_res=t,null!=n.receipt_res){for(var r=0;r<n.receipt_res.length;r++)console.log(n.receipt_res[r].AlreadyusedNo),n.num=n.receipt_res[r].AlreadyusedNo+1,n.vnum=n.receipt_res[r].BranchName+""+n.num,n.num1.push(n.num),console.log(n.num1),n.vnum1.push(n.vnum),console.log(n.vnum1),n.ReceiptTable={AlreadyusedNo:n.num,BranchID:n.receipt_res[r].BranchID,HeadID:n.receipt_res[r].HeadID,BranchName:n.receipt_res[r].BranchName,From:n.receipt_res[r].From,ID:n.receipt_res[r].ID,Isfinished:n.receipt_res[r].Isfinished,To:n.receipt_res[r].To,VoucherCode:n.receipt_res[r].VoucherCode,VoucherNumber:n.vnum},console.log(n.ReceiptTable),n.ReceiptTable1.push(n.ReceiptTable),console.log(n.ReceiptTable1);n.paymentservice.receipt_update(n.ReceiptTable1).subscribe((function(t){if(console.log(t),n.res_status=t,console.log(n.res_status),0==n.res_status){var r,a=e(n.sampletest);try{for(a.s();!(r=a.n()).done;){var o=r.value;for(var i in console.log("object:",o),o);}}catch(p){a.e(p)}finally{a.f()}for(var s=0;s<n.sampletest.length;s++){var c=n.sampletest[s].branchprefix;n.voucher_count+=1;var l=n.padLeadingZeros(n.voucher_count,8);n.newvoucher_count=l,console.log(n.newvoucher_count,"dashb"),n.new_name=c,console.log(n.trigger,"trigg"),n.receipt_name="B-"+n.new_name+localStorage.getItem("col_id")+n.newvoucher_count,console.log(n.receipt_name,"rec"),n.cashpdata=0!=n.sampletest[s].prizedarrear?[{Amount:+n.sampletest[s].amountreceived+ +n.sampletest[s].prizedarrear,PArrear:n.sampletest[s].prizedarrear,CurrentDue:n.sampletest[s].amountreceived,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].amountreceived+ +n.sampletest[s].prizedarrear,CurrentDue:n.sampletest[s].amountreceived,PArrear:n.sampletest[s].prizedarrear,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count}]:0!=n.sampletest[s].nonprizedarrear?[{Amount:+n.sampletest[s].amountreceived+ +n.sampletest[s].nonprizedarrear,CurrentDue:n.sampletest[s].amountreceived,NPArrear:n.sampletest[s].nonprizedarrear,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].amountreceived+ +n.sampletest[s].nonprizedarrear,CurrentDue:n.sampletest[s].amountreceived,NPArrear:n.sampletest[s].nonprizedarrear,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count}]:[{Amount:n.sampletest[s].amountreceived,CurrentDue:n.sampletest[s].amountreceived,NPArrear:n.sampletest[s].nonprizedarrear,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:n.sampletest[s].amountreceived,CurrentDue:n.sampletest[s].amountreceived,NPArrear:n.sampletest[s].nonprizedarrear,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,IsAccepted:"0",Voucher_Type:"D",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"Cash",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count=n.count+1,Voucher_Type:"C",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count},{Amount:+n.sampletest[s].interest+ +n.sampletest[s].otheramount,Interest:n.sampletest[s].interest,OtherAmt:n.sampletest[s].otheramount,IsDeleted:0,MemberID:n.sampletest[s].memberid,ReceievedBy:"admin",Series:"BCAPP",T_Day:n.day,T_Month:n.month,T_Year:n.year,Trans_Medium:"0",Trans_Type:"1",TransactionKey:0,Voucher_No:n.count,Voucher_Type:"D",IsAccepted:"0",AppReceiptno:n.receipt_name,ISActive:!0,BranchID:n.sampletest[s].branchid,ChitGroupId:n.sampletest[s].chitgroupid,Narration:n.sampletest[s].narration,Head_Id:n.sampletest[s].headid,Other_Trans_Type:1,RootID:n.sampletest[s].rootid,M_Id:n.sampletest[s].m_id,Type:"DefaultInterest",MoneyCollId:n.post_id,VoucherCount:n.newvoucher_count}],n.cashdata.push(n.cashpdata),n.cashdata1=[].concat.apply([],n.cashdata);for(var u=n.cashdata1.length-1;u>=0;--u)"0"==n.cashdata1[u].Amount&&n.cashdata1.splice(u,1)}n.paymentservice.post_vouchercash(n.cashdata1).subscribe((function(e){n.voucher_res=e,e?(n.dismiss(),n.second_voucher=e,n.presentToast("sucessfully updated"),localStorage.setItem("print_cash",JSON.stringify(n.voucher_res)),n.router.navigateByUrl("cashprint")):(alert("voucher error"),n.dismiss())}))}else alert("error"),n.dismiss()}))}}))}},{key:"logout",value:function(){this.router.navigateByUrl("login"),localStorage.clear()}},{key:"present",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.loadingController.create({message:"Saving data, Please wait....."}).then((function(e){e.present().then((function(){t.isLoading||e.dismiss().then((function(){return console.log("abort presenting")}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"dismiss",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!1,e.next=3,this.loadingController.dismiss().then((function(){return console.log("dismissed")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"padLeadingZeros",value:function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}},{key:"presentToast",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toast.show(e,"2000","bottom").subscribe((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(e){return new(e||V)(d.Kb(s.d),d.Kb(C.a),d.Kb(D.a),d.Kb(l.A),d.Kb(c.g),d.Kb(c.a),d.Kb(m.a))},V.\u0275cmp=d.Eb({type:V,selectors:[["app-payment"]],decls:25,vars:9,consts:[[1,"svcf_dashboard_page","svcf_payment_page"],[1,"customer_details"],["size","12"],["size","11",1,"customer_name"],["size","8"],["size","1",1,"menu"],["name","exit",3,"click"],[1,"payment","card_bg","space_padding"],[1,"page_title"],["name","create-outline","slot","end"],["novalidate","",1,"payment_form",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],[1,"grand_total"],["type","submit","expand","block",1,"btn",3,"click"],[3,"formGroupName"],[1,"chit_no"],["position","stacked"],["formControlName","amountreceived","type","number","value","","placeholder","Current Due","readonly",""],[4,"ngIf"],["formControlName","otheramount","type","number","value","","placeholder","otheramount","readonly",""],["formControlName","narration","type","text","value","","placeholder","narration","readonly",""],[1,"total"],["formControlName","prizedarrear","type","number","value","","placeholder","Prized Arrear","readonly",""],["formControlName","nonprizedarrear","type","number","value","","placeholder","Non Prized Arrear","readonly",""],["formControlName","interest","type","number","value","","placeholder","interest","readonly",""]],template:function(e,t){1&e&&(d.Pb(0,"ion-content",0),d.Pb(1,"section",1),d.Pb(2,"ion-row",2),d.Pb(3,"ion-col",3),d.Pb(4,"h2",4),d.sc(5),d.Ob(),d.Pb(6,"h5",4),d.sc(7),d.bc(8,"date"),d.Ob(),d.Ob(),d.Pb(9,"ion-col",5),d.Pb(10,"ion-icon",6),d.Xb("click",(function(){return t.logout()})),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(11,"div",7),d.Pb(12,"div",8),d.Pb(13,"h3"),d.sc(14,"Chit Details"),d.Ob(),d.Lb(15,"ion-icon",9),d.Ob(),d.Pb(16,"form",10),d.Pb(17,"ion-list",11),d.rc(18,B,30,7,"div",12),d.Ob(),d.Ob(),d.Pb(19,"p",13),d.sc(20,"Grand Total"),d.Pb(21,"span"),d.sc(22),d.Ob(),d.Ob(),d.Pb(23,"ion-button",14),d.Xb("click",(function(){return t.submitcash(t.submitForm.value)})),d.sc(24,"Submit "),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.Ab(5),d.tc(null==t.new10[0]?null:t.new10[0].Membername),d.Ab(2),d.tc(d.cc(8,6,t.today,"dd/MM/yyyy")),d.Ab(9),d.fc("formGroup",t.submitForm),d.Ab(1),d.fc("formArrayName","formArrayName"),d.Ab(1),d.fc("ngForOf",t.result),d.Ab(4),d.uc("\u20b9 ",t.grand_total,""))},directives:[l.k,l.t,l.j,l.m,s.v,s.o,s.h,l.r,s.c,i.j,l.e,s.i,l.f,l.h,l.g,l.p,l.q,l.o,l.C,s.n,s.f,i.k,l.E],pipes:[i.d],styles:[".flex_arrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.bottom_sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.arrow[_ngcontent-%COMP%]{background:linear-gradient(90deg,#222428 0,#354466)!important}.payment[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.payee_name[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:12px}.flex-page[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.flex-page[_ngcontent-%COMP%]   .payee_no[_ngcontent-%COMP%]{margin-left:12px}.flex-page[_ngcontent-%COMP%]   .data-no[_ngcontent-%COMP%]{margin-right:1rem;color:#5e5ca5;font-weight:700}.left[_ngcontent-%COMP%]{border-right:1px solid #f05940}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.title[_ngcontent-%COMP%]   .pipe[_ngcontent-%COMP%]{margin-left:12px}ion-card[_ngcontent-%COMP%]{background-color:#f6f6fa}.value[_ngcontent-%COMP%]{color:#272727}ion-checkbox[_ngcontent-%COMP%]{float:right}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.mode[_ngcontent-%COMP%]{margin-left:12px}.text[_ngcontent-%COMP%]{padding-left:10px}.icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{font-size:22px;color:#6765aa}.cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.cash-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;font-size:14px;margin:16px 0}.exit[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:22px;vertical-align:middle}.align[_ngcontent-%COMP%]{margin-bottom:20px}.new_card[_ngcontent-%COMP%]{margin-top:20px}.total-chit[_ngcontent-%COMP%]{padding-right:12px}.align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:-42px}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.logout[_ngcontent-%COMP%]{padding-top:2rem;padding-right:2rem;color:#fff}.arrow[_ngcontent-%COMP%]{margin-top:1rem;margin-left:2rem;background:#37348b;border-radius:50%;color:#fff;font-size:30px}.today_date[_ngcontent-%COMP%]{color:#fff;margin-left:12px}.cash[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#222428 0%,#354466)!important}.bottom_icon[_ngcontent-%COMP%]{position:fixed;left:85%;bottom:2px;border-radius:50%;font-size:28px;background:#37348b;padding:5px;color:#fff}.text1[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:10px;color:#fff}.icon_tool[_ngcontent-%COMP%]{padding-top:1rem;padding-right:1rem}.payeename[_ngcontent-%COMP%]{margin-top:1rem}.bank[_ngcontent-%COMP%]{padding-left:8px}.amt[_ngcontent-%COMP%], .bank[_ngcontent-%COMP%]{font-weight:700}.amt[_ngcontent-%COMP%]{color:#000}ion-spinner[_ngcontent-%COMP%]{stroke:red;fill:#8b0000;position:fixed;z-index:999;height:5em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card_bg[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]}),V),L=o("hctd"),K=[{path:"",component:O},{path:"cash",component:z},{path:"cashpay",component:q}],F=((j=function e(){n(this,e)}).\u0275mod=d.Ib({type:j}),j.\u0275inj=d.Hb({factory:function(e){return new(e||j)},providers:[C.a],imports:[[i.b,s.j,L.a,l.y,s.s,c.i.forChild(K)]]}),j)}}])}();